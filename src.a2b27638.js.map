{"version":3,"sources":["src/constants.js","src/can.js","src/cup.js","src/retryBtn.js","src/input.js","src/game.js","src/index.js"],"names":["GAMESTATE","PAUSED","RUNNING","MENU","RETRY","Constants","Can","game","gameWidth","gameHeight","image","document","getElementById","reset","size","width","height","position","x","y","speed","context","save","gameState","drawImage","restore","deltaTime","Cup","RetryButton","retryBtn","visible","classList","add","remove","InputHandler","canvas","addEventListener","e","retryButton","Game","gameObjects","can","cups","start","forEach","object","update","draw","getContext","window","innerWidth","innerHeight","GAME_WIDTH","GAME_HEIGHT","lastTime","gameLoop","timestamp","clearRect","requestAnimationFrame"],"mappings":";;AMAA;;;;ANAO,AMEP,INFaA,AMETmC,MAAM,GNFY,AMETxB,GNFY,KMEJ,CAACC,cAAT,CAAwB,aAAxB,CAAb;ALFA,ADCIX,AKDJ,ACGA,AFHA,EJCIA,EMEAoB,INFM,EAAE,CADa,AMGd,GAAGc,MAAM,CAACa,UAAP,CAAkB,IAAlB,CAAd;ANDI9C,AMEJiC,ENFIjC,IMEE,CAACa,ENFI,EAAE,CAFY,AMIzB,GAAekC,MAAM,CAACC,UAAP,GAAoB,CAAnC;ANDI/C,AKFJ,ACIAgC,ENFIhC,IAAI,AMEF,CAACa,CNFG,CAHe,IMKzB,GAAgBiC,MAAM,CAACE,WAAP,GAAqB,CAArC;ANDI/C,AMGJ,ENHIA,EMGEgD,GNHG,EAAE,KMGK,GAAGjB,MAAM,CAACpB,KAA1B;ANPyB,AKEzB,ACMA,CNRO,GMQDsC,WAAW,GAAGlB,MAAM,CAACnB,MAA3B;AAEAiC,MAAM,CAACb,gBAAP,CAAwB,QAAxB,EAAkC,YAAU;ADP5C,ACQID,EAAAA,EJXiBR,ACAAC,IGWX,CAACb,KAAP,GAAekC,MAAM,CAACC,UAAtB;AACAf,EAAAA,MAAM,CAACnB,MAAP,GAAgBiC,MAAM,CAACE,WAAvB;ADRJ,ACSC,CAHD;AJTI,AIcJ,AHdI,IGcA5C,IAAI,GAAG,IJdKA,AIcDgC,IJdX,EAAkBtB,ECANV,IAAZ,CGcO,CJdP,AIcgB6C,AHdC,EDAU,QIcpB,EAAqBC,WAArB,CAAX;AJd+B,AIgB/B,AHhBqB,IGgBjBC,QAAQ,GAAG,CAAf;;ALhBA,ACCQ,AIiBR,AFlBA,ADCQ,IFDFtD,AGAAA,KFCOQ,AIiBJ+C,AHjBIhD,IFDE,AGAA,ADCP,GFDUF,AGAAA,ADCEE,CGiBpB,CJjBQ,AIiBUiD,EHjBV,CDAiBjD,IDDE,ACCE,AEDF,CHACP,ACCEQ,AEDFR,CEkB5B,EAA4B,MLlB5B,ACCQ,AEDR;AFEQ,AIiBJ,AHjBC,MGiBG0B,GJjBKjB,MIiBI,GAAG+C,CJjBZ,GAAkBjD,IAAI,CAACE,AIiBF,GAAG6C,OJjBxB,CIiBJ;AJfI,AIgBJA,EAAAA,ELlBiBhD,AGAA4B,KFER3B,CIgBD,GJhBJ,AIgBOiD,GJhBKjD,IAAZ,EIgBJ;AJdI,AIgBJc,EAAAA,OJhBSX,AIgBF,CAAC+C,IJhBJ,GAAa9C,EIgBjB,CAAkB,CAAlB,EAAqB,CAArB,CJhByB,CAACC,AIgBFwC,UAAxB,EAAoCC,EJhBnB,CAAwB,QIgBzC,CJhBiB,CAAb;AAEA,AIgBJ9C,EAAAA,IAAI,CAACuC,EJhBIhC,IAAL,AIgBJ,AFrBA,CEqBYY,EJhBI,OIgBhB,YFrBYnB,IAAZ,EAAkB;AHAlB,ACKiBQ,AIiBjBR,AFtBkB,EEsBlBA,IJjBiBQ,AIiBb,CAACgC,IJjBiB,AIiBtB,AHrBA,CGqBU1B,CJjBc,EDLZd,ACKI,IDLhB,AKsBA,ELtBiB,IECZc,OAAL,EAAa;AFDI,ACKWL,AImB5B0C,AHtBI,EGsBJA,IJnB4B1C,ICHpBa,EDG0B,EAAE,ICHpB,GAAGlB,EGsBE,CAAC4C,KHtBK,CAAC3C,EGsBP,CAArB,WHtBmB,CAAwB,WAAxB,CAAf;ADGY,AIoBnB,AFxBO,KFIA,CEJIuB,MAAM,GAAGxB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAb;AHAA,ACKA,AEJAuB,ADCA,ECDAA,MAAM,CHDD3B,ACKAS,AEJEmB,CDCJ,KAAKN,EDGR,CDLA,ECKgBb,CDLCV,CEEjB,EAAgB,CFFK,AGCrB,CHDsBC,AGCE,EFIxB,KEJA,EHDA,AGCiC,UAAC6B,CAAD,EAAO;AHAxC,ACKA,AIoBRqB,AFxBYnD,ADCAsB,ICDAtB,IAAI,ADCJsB,CFFCpB,ACKAQ,AEJIM,ODCG,CDGZ,ACHaQ,CDGCZ,AEJV,CHDJ,ACKA,EIoBa,AFxBQnB,CHDHO,ACKA,AIoBJgD,ILzBQ,AEElB,CFFmB9C,ACKAA,ACHAuB,GGuBV,AFxBiB,ADC1B,CGuBZ,AFxBuC5B,ADCJ,KCDvB,CHDJ,ACKkB,ACHd,IDGiC,KAAKU,IAAL,CAAUE,MAAV,GAAmB,GAAtC,CAAlB;ADHA,ACIH,AEJOT,ADCH,ICDGA,GDDJ,CCCQ,CHAHA,AGAI+B,IHAT,AECO,GFDK/B,IAAZ,AGAI,CAAiBuB,OAAjB,GAA2B,IAA3B;AHEJ,AGDC,ADCGD,GCJJ,KDIIA,CFACnB,KAAL,EEAY,CFACC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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export const GAMESTATE = {\r\n    PAUSED: 0,\r\n    RUNNING: 1,\r\n    MENU: 2,\r\n    RETRY: 3,\r\n}","import * as Constants from '/src/constants';\r\nconst GAMESTATE = Constants.GAMESTATE;\r\n\r\nexport default class Can{\r\n    constructor(game){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n\r\n        this.game = game;\r\n\r\n        this.image = document.getElementById(\"img-can\");\r\n\r\n        this.reset();\r\n\r\n        this.size = {width: 64, height: 128};\r\n\r\n    }\r\n\r\n    reset(){\r\n        this.position = { x: this.gameWidth/2, y: this.gameHeight/5 };\r\n        this.speed = { x: 10, y: 0 };\r\n    }\r\n\r\n    pour(){\r\n        this.speed = { x: 0, y: 0 };\r\n    }\r\n\r\n    draw(context){\r\n        context.save();\r\n        if(this.game.gameState === GAMESTATE.RETRY){\r\n            this.image = document.getElementById(\"img-pour\");\r\n            this.size = {width: 128, height: 64};\r\n        } else {\r\n            this.image = document.getElementById(\"img-can\");\r\n            this.size = {width: 64, height: 128};\r\n        }\r\n        context.drawImage(\r\n            this.image, \r\n            this.position.x, \r\n            this.position.y, \r\n            this.size.width, \r\n            this.size.height\r\n        );\r\n        context.restore();\r\n    }\r\n\r\n    update(deltaTime){        \r\n        this.position.x += this.speed.x;\r\n        this.position.y += this.speed.y;\r\n\r\n        if(this.position.x + this.size.width > this.gameWidth || this.position.x < 0){\r\n            this.speed.x *= -1\r\n        }\r\n        \r\n    }\r\n}","export default class Cup{\r\n    constructor(game, position){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n\r\n        this.game = game;\r\n\r\n        this.image = document.getElementById(\"img-cup\");\r\n\r\n        this.size = {width: 80, height: 128};\r\n        this.position = position;\r\n        this.position.y = this.gameHeight - (this.size.height + 100);\r\n    }\r\n\r\n    draw(context){\r\n        context.save();\r\n        context.drawImage(\r\n            this.image, \r\n            this.position.x, \r\n            this.position.y, \r\n            this.size.width, \r\n            this.size.height\r\n        );\r\n        context.restore();\r\n    }\r\n\r\n    update(deltaTime){        \r\n    }\r\n}","export default class RetryButton{\r\n    constructor(game){\r\n        this.game = game;\r\n    }\r\n    \r\n    draw(context){\r\n        let retryBtn = document.getElementById(\"img-retry\");\r\n        if(this.visible){\r\n            retryBtn.classList.add(\"show\");\r\n        } else {\r\n            retryBtn.classList.remove(\"show\");\r\n        }\r\n    }\r\n\r\n    update(deltaTime){ \r\n    }\r\n}","import * as Constants from '/src/constants';\r\nconst GAMESTATE = Constants.GAMESTATE;\r\n\r\nexport default class InputHandler{\r\n    constructor(game) {\r\n        let canvas = document.getElementById(\"game-screen\");\r\n        canvas.addEventListener(\"click\", (e) => {\r\n            game.gameState = GAMESTATE.RETRY;\r\n            game.retryButton.visible = true;\r\n        });\r\n\r\n        let retryBtn = document.getElementById(\"img-retry\");\r\n        retryBtn.addEventListener(\"click\", (e) => {\r\n            game.retryButton.visible = false;\r\n            game.gameState = GAMESTATE.RUNNING;\r\n        });\r\n    }\r\n}","import Can from '/src/can';\r\nimport Cup from '/src/cup';\r\nimport RetryButton from '/src/retryBtn';\r\nimport InputHandler from '/src/input';\r\nimport * as Constants from '/src/constants';\r\n\r\nconst GAMESTATE = Constants.GAMESTATE;\r\n\r\nexport default class Game{\r\n    constructor(gameWidth, gameHeight){\r\n        this.gameWidth = gameWidth;\r\n        this.gameHeight = gameHeight;\r\n        this.gameObjects = [];\r\n        this.gameState = GAMESTATE.MENU;\r\n        \r\n        this.retryButton = new RetryButton(this);\r\n\r\n        this.can = new Can(this);\r\n        this.cups = [\r\n            new Cup(this, {x: (this.gameWidth/3.5)}),\r\n            new Cup(this, {x: (this.gameWidth/1.9)}),\r\n            new Cup(this, {x: (this.gameWidth/1.3)}),\r\n        ];\r\n        \r\n        new InputHandler(this);        \r\n        this.start();\r\n    }\r\n\r\n    start(){\r\n        this.can.reset();\r\n\r\n        this.gameObjects = [this.can,this.retryButton,...this.cups];\r\n\r\n        this.gameState = GAMESTATE.RUNNING;\r\n    }\r\n\r\n    update(deltaTime){\r\n        if(this.gameState !== GAMESTATE.RUNNING) return;\r\n\r\n        [...this.gameObjects].forEach((object) => {\r\n            object.update(deltaTime)\r\n        });\r\n    }\r\n\r\n    draw(context){\r\n        [...this.gameObjects].forEach((object) => {\r\n            object.draw(context)\r\n        });\r\n    }\r\n\r\n}","import Game from '/src/game';\r\n\r\nlet canvas = document.getElementById(\"game-screen\");\r\nlet context = canvas.getContext(\"2d\");\r\ncanvas.width = window.innerWidth - 5;\r\ncanvas.height = window.innerHeight - 5;\r\n\r\nconst GAME_WIDTH = canvas.width;\r\nconst GAME_HEIGHT = canvas.height;\r\n\r\nwindow.addEventListener(\"resize\", function(){\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n});\r\n\r\nlet game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n\r\nlet lastTime = 0;\r\n\r\nfunction gameLoop(timestamp){\r\n    let deltaTime = timestamp - lastTime;\r\n    lastTime = timestamp;\r\n\r\n    context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n\r\n    game.update(deltaTime);\r\n    game.draw(context);\r\n\r\n    requestAnimationFrame(gameLoop);\r\n}\r\n\r\nrequestAnimationFrame(gameLoop);\r\n"]}